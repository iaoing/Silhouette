#
# Makefile for the linux pmfs-filesystem routines.
#

# obj-$(CONFIG_WINEFS) += winefs.o
# MY_CFLAGS += -g -DDEBUG -O1
# ccflags-y += ${MY_CFLAGS}
# CC += ${MY_CFLAGS}

# winefs-y := bbuild.o balloc.o dir.o file.o inode.o namei.o super.o symlink.o ioctl.o pmfs_stats.o journal.o xattr.o xattr_user.o xip.o wprotect.o

obj-m += winefs.o

winefs-y := bbuild.o balloc.o dir.o file.o inode.o namei.o super.o symlink.o ioctl.o pmfs_stats.o journal.o xattr.o xattr_user.o xip.o wprotect.o

all:
	make -C /lib/modules/$(shell uname -r)/build M=`pwd`

clean:
	make -C /lib/modules/$(shell uname -r)/build M=`pwd` clean

#CFLAGS_nvmm_perfmodel.o := -mhard-float -Og
#CFLAGS_bbuild.o := -mhard-float -Og
#CFLAGS_balloc.o := -mhard-float -Og
#CFLAGS_dir.o := -mhard-float -Og
#CFLAGS_file.o := -mhard-float -Og
#CFLAGS_inode.o := -mhard-float -Og
#CFLAGS_namei.o := -mhard-float -Og
#CFLAGS_super.o := -mhard-float -Og
#CFLAGS_symlink.o := -mhard-float -Og
#CFLAGS_ioctl.o := -mhard-float -Og
#CFLAGS_pmfs_stats.o := -mhard-float -Og
#CFLAGS_journal.o := -mhard-float -Og
#CFLAGS_xip.o := -mhard-float -Og
#CFLAGS_wprotect.o := -mhard-float -Og
